{"remainingRequest":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\src\\views\\front\\Person.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\src\\views\\front\\Person.vue","mtime":1689220397000},{"path":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1694659574600},{"path":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1694659557524},{"path":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1694659561815},{"path":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1694659581198},{"path":"C:\\Users\\28634\\Desktop\\学生作业管理系统springbootvue\\master-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1694659557519}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hdmF0YXItdXBsb2FkZXIgewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwYWRkaW5nLWJvdHRvbTogMTBweDsKfQouYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQgewogIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5OwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkOmhvdmVyIHsKICBib3JkZXItY29sb3I6ICM0MDlFRkY7Cn0KLmF2YXRhci11cGxvYWRlci1pY29uIHsKICBmb250LXNpemU6IDI4cHg7CiAgY29sb3I6ICM4YzkzOWQ7CiAgd2lkdGg6IDEzOHB4OwogIGhlaWdodDogMTM4cHg7CiAgbGluZS1oZWlnaHQ6IDEzOHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouYXZhdGFyIHsKICB3aWR0aDogMTM4cHg7CiAgaGVpZ2h0OiAxMzhweDsKICBkaXNwbGF5OiBibG9jazsKfQo="},{"version":3,"sources":["Person.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Person.vue","sourceRoot":"src/views/front","sourcesContent":["<template>\n  <el-card style=\"width: 500px;\">\n    <el-form label-width=\"80px\" size=\"small\">\n      <el-upload\n          class=\"avatar-uploader\"\n          :action=\"'http://localhost:9090/file/upload'\"\n          :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\"\n      >\n        <img v-if=\"form.avatarUrl\" :src=\"form.avatarUrl\" class=\"avatar\">\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n      </el-upload>\n\n      <el-form-item label=\"用户名\">\n        <el-input v-model=\"form.username\" disabled autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input v-model=\"form.nickname\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"邮箱\">\n        <el-input v-model=\"form.email\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"电话\">\n        <el-input v-model=\"form.phone\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"地址\">\n        <el-input type=\"textarea\" v-model=\"form.address\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\n\nexport default {\n  name: \"Person\",\n  data() {\n    return {\n      form: {},\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    }\n  },\n  created() {\n    this.getUser().then(res => {\n      console.log(res)\n      this.form = res\n    })\n  },\n  methods: {\n    async getUser() {\n      return (await this.request.get(\"/user/username/\" + this.user.username)).data\n    },\n    save() {\n      this.request.post(\"/user\", this.form).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"保存成功\")\n\n          // 触发父级更新User的方法\n          this.$emit(\"refreshUser\")\n\n          // 更新浏览器存储的用户信息\n          this.getUser().then(res => {\n            res.token = JSON.parse(localStorage.getItem(\"user\")).token\n            localStorage.setItem(\"user\", JSON.stringify(res))\n          })\n\n        } else {\n          this.$message.error(\"保存失败\")\n        }\n      })\n    },\n    handleAvatarSuccess(res) {\n      this.form.avatarUrl = res\n    }\n  }\n}\n</script>\n\n<style>\n.avatar-uploader {\n  text-align: center;\n  padding-bottom: 10px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 138px;\n  height: 138px;\n  line-height: 138px;\n  text-align: center;\n}\n.avatar {\n  width: 138px;\n  height: 138px;\n  display: block;\n}\n</style>\n"]}]}